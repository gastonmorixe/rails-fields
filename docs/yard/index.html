<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Rails Fields - Ruby API Documentation
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><p align="center">
  <a href="https://rails-fields.dev" target="_blank"><img src="./assets/logo.svg" width="300" /></a>
</p>

<p><a href="https://badge.fury.io/rb/rails-fields"><img src="https://badge.fury.io/rb/rails-fields.svg" alt="Gem Version" /></a></p>

<h1 id="rails-fields">Rails Fields</h1>

<p>Enforce field types and attributes for ActiveRecord models in Ruby on Rails applications.</p>

<ul>
  <li>ğŸš€ Automagic ActiveRecord Migrations generations</li>
  <li>ğŸ¦„ Automatic <a href="https://graphql-ruby.org/type_definitions/objects.html">GraphqQL types</a> generation</li>
  <li>ğŸ“ Explicit declarative model attributes annotation</li>
  <li>ğŸ’ªğŸ» Enforcement of fields declaration with real db columns</li>
  <li>ğŸ“œ Automatic YARD model documentation</li>
</ul>

<h2 id="description">Description</h2>
<p>The <code>rails-fields</code> gem provides robust field type enforcement for ActiveRecord models in Ruby on Rails applications. It includes utility methods for type validation, logging, and field mappings between GraphQL and ActiveRecord types. Custom error classes provide clear diagnostics for field-related issues, making it easier to maintain consistent data models.</p>

<h2 id="usage">Usage</h2>

<p>In your ActiveRecord models:</p>

<p>```ruby
class User &lt; ApplicationRecord
  field :id, :integer
  field :created_at, :datetime
  field :updated_at, :datetime</p>

<p>field :first_name, :string
  field :country, :string
  field :welcome, :string</p>

<p>has_many :todos</p>

<p>def welcome
    â€œWelcome #first_name!â€
  end
end
```</p>

<p>Autogenerate GraphQL types using <code>#gql_type</code> class method:</p>

<p>```ruby
module Types
  class QueryType &lt; Types::BaseObject</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_field'>field</span> <span class='symbol'>:users</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_gql_type'>gql_type</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>null:</span> <span class='kw'>true</span>

<span class='kw'>def</span> <span class='id identifier rubyid_users'>users</span>
  <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
<span class='kw'>end</span>
</code></pre>

<p>end
end
```</p>

<h2 id="installation">Installation</h2>

<p>Add this line to your applicationâ€™s Gemfile:</p>

<p><code>ruby
gem 'rails-fields'
</code></p>

<p>If you want to have graphql types generated for your models, add this line to your applicationâ€™s Gemfile:</p>

<p><code>ruby
gem 'graphql'
</code></p>

<p><em>Donâ€™t forget to install it <code>$ ./bin/rails generate graphql:install</code></em></p>

<p>And then execute:</p>

<p><code>bash
$ bundle install
</code>
Update your <code>ApplicationRecord</code>:</p>

<p>```patch
+require â€˜rails_fieldsâ€™</p>

<p>class ApplicationRecord &lt; ActiveRecord::Base
  primary_abstract_class</p>

<ul>
  <li>extend RailsFields::ClassMethods</li>
  <li>include RailsFields
end
```</li>
</ul>

<h2 id="license">License</h2>

<p>The gem is available as open source under the terms of the <a href="https://opensource.org/licenses/MIT">MIT License</a>.</p>

<h2 id="author">Author</h2>

<p>Gaston Morixe - gaston@gastonmorixe.com</p>
</div></div>

      <div id="footer">
  Generated on Sun Aug 27 17:34:57 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.2.2).
</div>

    </div>
  </body>
</html>